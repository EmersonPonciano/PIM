[{"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\index.js":"1","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\App.js":"2","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\AddEdit\\index.js":"3","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\View\\index.js":"4","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\Home\\index.js":"5","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\components\\Header\\index.js":"6","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\config\\firebase.js":"7"},{"size":236,"mtime":1670511421513,"results":"8","hashOfConfig":"9"},{"size":764,"mtime":1670511421512,"results":"10","hashOfConfig":"9"},{"size":4805,"mtime":1670511421514,"results":"11","hashOfConfig":"9"},{"size":2346,"mtime":1670511421515,"results":"12","hashOfConfig":"9"},{"size":2079,"mtime":1670511421515,"results":"13","hashOfConfig":"9"},{"size":839,"mtime":1670511421512,"results":"14","hashOfConfig":"9"},{"size":584,"mtime":1670511421513,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"gpndrj",{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\index.js",[],[],"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\App.js",[],[],"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\AddEdit\\index.js",["39"],[],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport './styles.css';\r\nimport firebaseDb from '../../config/firebase.js';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst AddEdit = () => {\r\n  const initialState = {\r\n    veiculo: \"\",\r\n    proprietario: \"\",\r\n    ano: \"\",\r\n    telefone: \"\",\r\n    placa: \"\",\r\n    valorServico: \"\",\r\n    horarioEntrada: \"\",\r\n    descricao: \"\",\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n  const [data, setData] = useState({});\r\n  const { veiculo, proprietario, ano, telefone, placa, valorServico, horarioEntrada, descricao } = state;\r\n\r\n  const history = useHistory();\r\n\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    firebaseDb.child(\"veiculos\").on(\"value\", (snapshot) => {\r\n      if (snapshot.val() !== null) {\r\n        setData({\r\n          ...snapshot.val(),\r\n        });\r\n      } else {\r\n        setData({});\r\n      }\r\n    });\r\n    return () => {\r\n      setData({});\r\n    };\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      setState({ ...data[id] });\r\n    } else {\r\n      setState({ ...initialState });\r\n    }\r\n    return () => {\r\n      setState({ ...initialState });\r\n    };\r\n  }, [id, data]);\r\n\r\n  const handleInputChange = (e) => {\r\n    let { name, value } = e.target;\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!veiculo || !proprietario || !ano || !telefone || !placa || !valorServico || !horarioEntrada || !descricao) {\r\n      toast.error(\"Campos em branco\");\r\n    } else {\r\n      if (!id) {\r\n        firebaseDb.child(\"veiculos\").push(state, (err) => {\r\n          if (err) {\r\n            toast.error(err);\r\n          } else {\r\n            toast.success(\"Veículo adicionado com sucesso\");\r\n          }\r\n        });\r\n      } else {\r\n        firebaseDb.child(`/veiculos/${id}`).set(state, (err) => {\r\n          if (err) {\r\n            toast.error(err);\r\n          } else {\r\n            toast.success(\"Veículo atualizado\");\r\n          }\r\n        });\r\n      }\r\n      setTimeout(() => history.push(\"/\"), 500);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"add-edit\">\r\n      <form\r\n        className=\"add-edit__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label htmlFor=\"veiculo\">Veículo:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"veiculo\"\r\n          name=\"veiculo\"\r\n          placeholder=\"Digite a marca e modelo...\"\r\n          value={veiculo || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"ano\">Ano:</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"ano\"\r\n          name=\"ano\"\r\n          placeholder=\"Digite o ano do veículo...\"\r\n          value={ano || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n        \r\n        <label htmlFor=\"placa\">Placa:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"placa\"\r\n          name=\"placa\"\r\n          placeholder=\"Digite a placa do veículo...\"\r\n          value={placa || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n        <label htmlFor=\"proprietario\">Proprietário:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"propietario\"\r\n          name=\"proprietario\"\r\n          placeholder=\"Digite o nome do proprietário...\"\r\n          value={proprietario || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"telefone\">Telefone:</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"telefone\"\r\n          name=\"telefone\"\r\n          placeholder=\"Digite o telefone do proprietário...\"\r\n          value={telefone || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"valorServico\">Valor do serviço:</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"valorServico\"\r\n          name=\"valorServico\"\r\n          placeholder=\"Digite o valor do serviço...\"\r\n          value={valorServico || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"horarioEntrada\">Horário de entrada:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"horarioEntrada\"\r\n          name=\"horarioEntrada\"\r\n          placeholder=\"Digite o horário de entrada... (EX: 20/10/2021 19:10)\"\r\n          value={horarioEntrada || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"descricao\">Descricao:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"descricao\"\r\n          name=\"descricao\"\r\n          placeholder=\"Descrição dos serviços...\"\r\n          value={descricao || \"\"}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input type=\"submit\" value={id ? \"Atualizar\" : \"Cadastrar\"} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEdit;","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\View\\index.js",["40"],[],"import React, { useState, useEffect } from 'react';\r\nimport firebaseDb from '../../config/firebase.js';\r\nimport { useParams, Link, useHistory } from 'react-router-dom';\r\nimport './styles.css';\r\n\r\nconst View = () => {\r\n  const [data, setData] = useState({});\r\n\r\n  let currentId = useParams();\r\n  const { id } = currentId;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    firebaseDb.child(\"veiculos\").on(\"value\", (snapshot) => {\r\n      if (snapshot.val() !== null) {\r\n        setData({\r\n          ...snapshot.val(),\r\n        });\r\n      } else {\r\n        snapshot({});\r\n      }\r\n    });\r\n  }, [id]);\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      {Object.keys(data).map((userId) => {\r\n        if (userId === id) {\r\n          return (\r\n            <div key={userId} className=\"view\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <p>Detalhes do veículo</p>\r\n                </div>\r\n                <div className=\"container\">\r\n                  <strong>Veículo: </strong>\r\n                  <span>{data[id].veiculo}</span>\r\n                  <br />\r\n                  <br />\r\n                  <strong>Ano: </strong>\r\n                  <span>{data[id].ano}</span>\r\n                  <br />\r\n                  <br />\r\n                  <strong>Placa: </strong>\r\n                  <span>{data[id].placa}</span>\r\n                  <br />\r\n                  <br />\r\n                  <strong>Descrição dos serviços: </strong>\r\n                  <span>{data[id].descricao}</span>\r\n                  <br />\r\n                  <br />\r\n                  <strong>Horário de entrada: </strong>\r\n                  <span>{data[id].horarioEntrada}</span>\r\n                  <br />\r\n                  <br />\r\n                  <strong>Valor total: </strong>\r\n                  <span>{\"R$\"+data[id].valorServico}</span>\r\n                </div>\r\n                <br />\r\n                <br />\r\n\r\n                <Link to=\"/\">\r\n                  <button\r\n                    className=\"btn btn-edit\"\r\n                    onClick={() => history.push(\"/\")}\r\n                  >\r\n                    Voltar\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default View;\r\n","C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\pages\\Home\\index.js",[],[],"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\components\\Header\\index.js",[],[],"C:\\Users\\Emerson\\Documents\\React\\newPIM\\src\\config\\firebase.js",[],[],{"ruleId":"41","severity":1,"message":"42","line":49,"column":6,"nodeType":"43","endLine":49,"endColumn":16,"suggestions":"44"},{"ruleId":"45","severity":1,"message":"46","line":25,"column":39,"nodeType":"47","messageId":"48","endLine":25,"endColumn":41},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'initialState'. Either include it or remove the dependency array.","ArrayExpression",["49"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",{"desc":"50","fix":"51"},"Update the dependencies array to be: [id, data, initialState]",{"range":"52","text":"53"},[1217,1227],"[id, data, initialState]"]